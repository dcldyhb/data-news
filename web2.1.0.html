<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ•°æ®é•œå¤´ä¸‹çš„æ–°èŒä¸šç”Ÿå­˜å®å½• (æœ€ç»ˆå®Œæ•´ç‰ˆ)</title>

    <!-- å¼•å…¥å¿…è¦çš„åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2.1.0/dist/echarts-wordcloud.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
      integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucUutcjServCrA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#3B82F6",
              secondary: "#F97316",
              accent: "#10B981",
              "cert-red": "#EF4444",
              "uncert-gray": "#6B7280",
            },
          },
        },
      };
    </script>

    <style type="text/tailwindcss">
      :root {
        --reveal-duration: 0.8s;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        background-color: #111827;
        color: #d1d5db;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
          "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
        overflow-x: hidden;
      }
      .reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity var(--reveal-duration) ease-out,
          transform var(--reveal-duration) ease-out;
      }
      .reveal.visible {
        opacity: 1;
        transform: translateY(0);
      }
      .glow-card {
        position: relative;
        overflow: hidden;
        background-color: rgba(31, 41, 55, 0.5);
        border-radius: 1rem;
      }
      .glow-card::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        border-radius: 1rem;
        border: 1px solid transparent;
        z-index: -10;
        background: linear-gradient(
            120deg,
            rgba(255, 255, 255, 0.15),
            rgba(255, 255, 255, 0.05)
          )
          border-box;
        -webkit-mask: linear-gradient(#fff 0 0) padding-box,
          linear-gradient(#fff 0 0);
        -webkit-mask-composite: destination-out;
        mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
        mask-composite: exclude;
        pointer-events: none;
      }
      .danmaku {
        transition: all 0.2s ease-in-out;
        cursor: pointer;
        background-color: rgba(31, 41, 55, 0.7);
        color: white;
        padding: 8px 16px;
        border-radius: 9999px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        white-space: nowrap;
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        font-size: 14px;
      }
      .danmaku:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        background-color: #3b82f6;
        z-index: 50 !important;
      }
      .danmaku .likes {
        color: #fcd34d;
        font-size: 12px;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }
      .scroll-text {
        animation: scroll linear infinite;
        position: absolute;
        will-change: transform;
        left: 100vw; /* ç¡®ä¿å¼¹å¹•åœ¨åŠ¨ç”»å¼€å§‹å‰ä½äºå±å¹•å³ä¾§å¤– */
      }
      @keyframes scroll {
        from {
          transform: translateX(0);
        }
        to {
          transform: translateX(calc(-100vw - 100%));
        }
      }
      .echarts-tooltip {
        background-color: rgba(31, 41, 55, 0.9) !important;
        border-color: #4b5563 !important;
        color: #d1d5db !important;
      }
      .echarts-tooltip-name {
        color: #9ca3af !important;
      }
      .echarts-tooltip-value {
        font-weight: bold !important;
      }
    </style>
  </head>
  <body class="bg-gray-900 text-gray-300">
    <header class="min-h-screen flex items-center justify-center text-center p-8 relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-br from-blue-900/50 via-gray-900 to-gray-900 z-0"></div>
      <div class="absolute -top-1/4 -left-1/4 w-1/2 h-1/2 bg-blue-500/20 rounded-full filter blur-3xl animate-pulse"></div>
      <div class="absolute -bottom-1/4 -right-1/4 w-1/2 h-1/2 bg-orange-500/20 rounded-full filter blur-3xl animate-pulse delay-1000"></div>

      <div class="relative z-20">
        <h1 class="text-4xl md:text-7xl font-bold text-white mb-6 tracking-tight leading-tight">
          æ•°æ®é•œå¤´ä¸‹çš„<br class="md:hidden" /><span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">æ–°èŒä¸š</span> ç”Ÿå­˜å®å½•
        </h1>
        <div class="max-w-4xl mx-auto text-lg text-gray-400 space-y-4">
          <p>
            2025å¹´5æœˆï¼Œ24å²çš„æ— äººæœºé£è¡Œå·¥ç¨‹å¸ˆé™†å­ç¥¥ä¸º"é­…åŠ›é‡åº†"æ— äººæœºç¯å…‰ç§€æä¾›é£è¡ŒæœåŠ¡ã€‚2024å¹´4æœˆï¼Œæµ™æ±Ÿçœé¦–æ‰¹"æ°‘å®¿ç®¡å®¶"èŒä¸šæŠ€èƒ½ç­‰çº§è¯ä¹¦è·å¾—è€…å­Ÿé‡‘é”¦åœ¨è«å¹²å±±æ°‘å®¿èŠéº»è°·å¼•å¯¼å®¢äººå‰å¾€é¤å…ã€‚
          </p>
          <p>
            è¿‘å¹´æ¥ï¼Œæ–°å…´èŒä¸šé€æ¸å…´èµ·ï¼Œå°±ä¸šç»“æ„ä¸æ–­å‘ç”Ÿæ”¹å˜ã€‚æˆ‘ä»¬ä»¥æƒå¨æ•°æ®ä¸ºè¿½å…‰ç¯ï¼Œæ·±å…¥åˆ†ææ–°å…´èŒä¸šçš„å‘å±•ç°çŠ¶ã€èƒŒååŠ¨å› åŠé¢ä¸´çš„é—®é¢˜ï¼Œå±•ç°è¿™åœºå…³ä¹ä¸ªä½“å‘½è¿çš„èŒä¸šå˜é©ã€‚
          </p>
        </div>
      </div>
    </header>

    <main id="main-content"></main>

    <footer class="text-center py-10 bg-gray-900 border-t border-gray-800">
      <p class="text-gray-500">&copy; 2025 æ–°èŒä¸šè§‚å¯ŸæŠ¥å‘Š.</p>
    </footer>

    <template id="section-template">
      <section class="py-20 px-4 reveal">
        <div class="max-w-7xl mx-auto">
          <h2
            class="text-3xl md:text-5xl font-bold text-center text-white mb-4"
          ></h2>
          <div class="subtitle text-center text-gray-500 mb-16"></div>
          <div class="content-wrapper"></div>
        </div>
      </section>
    </template>

    <template id="intro-template">
      <section class="min-h-[70vh] flex items-center justify-center text-center p-8 relative overflow-hidden reveal">
        <div class="absolute inset-0 bg-gradient-to-br from-blue-900/50 via-gray-900 to-gray-900 z-0"></div>
        <div class="absolute -top-1/4 -left-1/4 w-1/2 h-1/2 bg-blue-500/20 rounded-full filter blur-3xl animate-pulse"></div>
        <div class="absolute -bottom-1/4 -right-1/4 w-1/2 h-1/2 bg-orange-500/20 rounded-full filter blur-3xl animate-pulse delay-1000"></div>
        <div id="danmaku-container" class="absolute inset-0 z-10" aria-hidden="true"></div>
        <div class="relative z-20">
          <h2 class="text-4xl md:text-7xl font-bold text-white mb-6 tracking-tight leading-tight"></h2>
        </div>
      </section>
    </template>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // =================================================================
        // é…ç½®ä¸æ•°æ®å®šä¹‰
        // =================================================================
        const contentTemplates = {
          status: `<div class="space-y-16"><div class="text-center max-w-3xl mx-auto">æ–°èŒä¸šè®¤è¯ç»å†ä¸¥æ ¼çš„å®˜æ–¹å®¡æ‰¹æµç¨‹ï¼Œä»é¢„ç ”åˆ°æœ€ç»ˆå‘å¸ƒéœ€è¦ç»è¿‡å¤šä¸ªç¯èŠ‚çš„ä¸¥æ ¼æŠŠå…³ã€‚</div><div class="lifecycle-chart w-full h-96 glow-card p-4"></div><div class="text-center max-w-3xl mx-auto">ç›®å‰110ä¸ªå®˜æ–¹è®¤è¯èŒä¸šè¿œä¸è¶³ä»¥æ¶µç›–å¸‚é¢ä¸Šçš„å…¨éƒ¨æ–°å…´èŒä¸šï¼Œå¤šç§æ°‘é—´å‘½åå²—ä½å°šæœªæ‹¥æœ‰"å®˜æ–¹å§“å"ã€‚ä»¥"å…ƒå®‡å®™åœºæ™¯ç­–åˆ’å¸ˆ"ï¼ˆå«è‘¬ç¤¼ç­–åˆ’æ–¹å‘ï¼‰ä¸ºä¾‹ï¼Œè¿‘3å¹´å²—ä½é‡å¹´å¢350%ï¼Œä½†è‡³ä»Šä»æœªè¢«çº³å…¥å®˜æ–¹èŒä¸šä½“ç³»ï¼Œè¿™ç±»"æœªè®¤è¯èŒä¸š"å¤šåœç•™åœ¨å‰ä¸¤ä¸ªé˜¶æ®µã€‚</div><div class="professions-word-cloud w-full h-96 glow-card p-4"></div><div class="text-center max-w-3xl mx-auto">ä¸æ­¤åŒæ—¶ï¼Œæ–°å…´èŒä¸šåœ¨ä¸åŒåœ°åŸŸã€ä¸åŒé¢†åŸŸä¹Ÿå‘ˆç°å‡ºä¸åŒå‘å±•æ€åŠ¿ã€‚</div><div class="domain-barchart w-full h-96 glow-card p-4"></div></div>`,
          drivers: `<div class="sankey-chart w-full h-[32rem] glow-card p-4"></div>`,
          rectification: `<div class="text-center max-w-3xl mx-auto">èŒä¸šåç§°çš„"æ­£å"è¿‡ç¨‹ï¼Œè—ç€è¡Œä¸šæˆç†Ÿçš„å¯†ç ã€‚2022å¹´"é“¶å‘ç»æµ"ç›¸å…³å²—ä½ä¸­ï¼Œ38%çš„æ‹›è˜ä¿¡æ¯ä½¿ç”¨"è€å¹´æ•°å­—è¾…å¯¼å‘˜""é“¶å‘ç”Ÿæ´»è§„åˆ’å¸ˆ"ç­‰æ°‘é—´ç§°å‘¼ï¼Œç›´åˆ°2024 å¹´ "è€å¹´æ•°å­—æœåŠ¡å¸ˆ"è¢«çº³å…¥æ–°èŒä¸šç›®å½•ï¼Œæ‰å½¢æˆç»Ÿä¸€çš„èŒä¸šæ ‡å‡†ã€‚</div><div class="rectification-word-clouds w-full h-96 mt-12"></div>`,
          predicament: `<div class="text-center max-w-3xl mx-auto">ç¹è£èƒŒåï¼Œæ–°å…´èŒä¸šçš„æƒç›Šä¿éšœä»å­˜çŸ­æ¿ã€‚æ•°æ®æ˜¾ç¤ºï¼Œæœªè®¤è¯èŒä¸šä»ä¸šè€…ä¸­ï¼Œ68%æœªç­¾è®¢è§„èŒƒåŠ³åŠ¨åˆåŒï¼Œ45%æ— æ³•äº«å—å¸¦è–ªä¼‘å‡ã€‚</div><div class="rights-barchart w-full h-96 mt-12 glow-card p-4"></div>`,
          reconstruction: `<div class="text-center max-w-3xl mx-auto space-y-4"><p>å®‹é¾™æ°ä»ä¸€çº¿æ”¶æ´¾ä»¶åˆ°è·è¯„"æµå—å¸‚æŠ€æœ¯èƒ½æ‰‹"ï¼Œå†åˆ°æˆä¸ºé¦–æ‰¹Eç±»é«˜å±‚æ¬¡äººæ‰ï¼Œä»–çš„é€†è¢­æˆä¸ºæ•°ä¸‡ä»ä¸šè€…çš„ç¼©å½±ã€‚</p><p>å½“ä»£å¹´è½»äººæ¸´æœ›æ‘†è„±ä¼ ç»ŸèŒåœºçš„æŸç¼šã€è¿½æ±‚æ›´åŠ çµæ´»çš„å·¥ä½œæ–¹å¼çš„æ€åº¦ã€‚ä»–ä»¬å¸Œæœ›èƒ½å¤Ÿåœ¨è‡ªå·±çš„èŠ‚å¥ä¸‹å·¥ä½œï¼Œå……åˆ†å‘æŒ¥åˆ›é€ åŠ›ï¼ŒåŒæ—¶äº«å—ç”Ÿæ´»çš„å¹³è¡¡ã€‚</p></div><div class="factors-piechart w-full h-96 mt-12"></div>`,
          conclusion: `<div class="text-center max-w-4xl mx-auto space-y-4"><p>ä»ç”µå½±ã€Šå¥¹ã€‹èµ°å‡ºçš„äººå·¥æ™ºèƒ½æ•°å­—äººè®­ç»ƒå¸ˆï¼Œä»ã€ŠèŠæ–‹å¿—å¼‚ã€‹èµ°å‡ºçš„æœåŠ¡çŠ¬é©¯å…»å¸ˆâ€¦â€¦æ–°å…´èŒä¸šçš„ç”Ÿé•¿å²ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸ªä½“ä»·å€¼ä¸æ—¶ä»£éœ€æ±‚çš„"åŠ¨æ€åº”ç­”"ã€‚</p><p>ä»æŠ€æœ¯é©±åŠ¨åˆ°æ”¿ç­–è§„èŒƒï¼Œä»æƒç›Šä¿éšœåˆ°ä»·å€¼é‡æ„ï¼Œæ¯ä¸€ç»„æ•°æ®çš„æ³¢åŠ¨ï¼Œéƒ½åœ¨ä¹¦å†™ç€å°±ä¸šå¸‚åœºçš„æ–°è§„åˆ™â€”â€”è€Œé‚£äº›å°šæœªè¢«å‘½åçš„èŒä¸šï¼Œæˆ–è®¸æ­£è—ç€æœªæ¥ç¤¾ä¼šçš„æ¨¡æ ·ã€‚</p></div><div class="future-map w-full h-96 mt-12 glow-card p-4 relative"></div><div class="mt-8 text-center"><p class="text-lg mb-4">ä½ è®¤ä¸ºä¸‹ä¸€ä¸ªè¢«è®¤è¯çš„èŒä¸šä¼šæ˜¯ï¼Ÿ</p><input type="text" placeholder="è¾“å…¥ä½ çš„æƒ³æ³•..." class="bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary"><button class="bg-primary text-white font-bold py-2 px-6 rounded-lg ml-2 transition-transform hover:scale-105">æäº¤</button></div>`,
        };
        const sections = [
          { id: "status-intro", title: "01. è¡Œä¸šç°çŠ¶", isIntro: true, setup: setupStatusIntro },
          { id: "status", title: "", setup: setupStatusCharts },
          {
            id: "drivers",
            title: "02. é©±åŠ¨å¯†ç ",
            subtitle:
              "æ–°å…´èŒä¸šçš„çˆ†å‘å¹¶éå¶ç„¶ï¼Œè€Œæ˜¯æŠ€æœ¯çªç ´ã€å¸‚åœºéœ€æ±‚ä¸æ”¿ç­–å¼•å¯¼å…±åŒä½œç”¨çš„ç»“æœã€‚",
            setup: setupSankeyChart,
          },
          {
            id: "rectification",
            title: "03. \"æ­£å\"æ—¶é—´",
            setup: setupRectificationCharts,
          },
          { id: "predicament", title: "04. è¡Œä¸šå›°å¢ƒ", setup: setupRightsChart },
          {
            id: "reconstruction",
            title: "05. ä»·å€¼é‡æ„",
            setup: setupReconstructionChart,
          },
          { id: "conclusion", title: "ç»“å°¾", setup: setupConclusionChart },
        ];
        const echartsTooltipOption = {
          backgroundColor: "rgba(31, 41, 55, 0.9)",
          borderColor: "#4B5563",
          textStyle: { color: "#D1D5DB" },
          className: "echarts-tooltip",
        };

        // =================================================================
        // é¡µé¢åˆå§‹åŒ–
        // =================================================================
        function initPage() {
          const mainContent = document.getElementById("main-content");
          const sectionTemplate = document.getElementById("section-template");
          const introTemplate = document.getElementById("intro-template");
          if (!mainContent || !sectionTemplate || !introTemplate) {
            console.error(
              "Essential elements not found!"
            );
            return;
          }

          sections.forEach((data) => {
            let sectionClone;
            if (data.isIntro) {
              // ä½¿ç”¨introæ¨¡æ¿åˆ›å»ºå°æ ‡é¢˜é¡µé¢
              sectionClone = introTemplate.content.cloneNode(true);
              const sectionEl = sectionClone.querySelector("section");
              sectionEl.id = data.id;
              sectionClone.querySelector("h2").innerHTML = data.title;
            } else {
              // ä½¿ç”¨æ™®é€šæ¨¡æ¿åˆ›å»ºå†…å®¹é¡µé¢
              sectionClone = sectionTemplate.content.cloneNode(true);
              const sectionEl = sectionClone.querySelector("section");
              sectionEl.id = data.id;
              sectionClone.querySelector("h2").innerHTML = data.title;
              const subtitleEl = sectionClone.querySelector(".subtitle");
              if (data.subtitle) {
                subtitleEl.innerHTML = data.subtitle;
              } else {
                subtitleEl.remove();
              }
              if (contentTemplates[data.id]) {
                sectionClone.querySelector(".content-wrapper").innerHTML =
                  contentTemplates[data.id];
              }
            }
            
            mainContent.appendChild(sectionClone);
            if (data.setup) {
              try {
                const sectionEl = mainContent.querySelector(`#${data.id}`);
                data.setup(sectionEl);
              } catch (e) {
                console.error(`Error setting up section "${data.id}":`, e);
              }
            }
          });

          setupScrollAnimations();
        }

        function setupScrollAnimations() {
          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.classList.add("visible");
                  observer.unobserve(entry.target);
                }
              });
            },
            { rootMargin: "0px 0px -10% 0px" }
          );

          document
            .querySelectorAll(".reveal")
            .forEach((el) => observer.observe(el));
        }

        function setupDanmaku() {
          const container = document.getElementById("danmaku-container");
          if (!container) return;
          const danmakuItems = [
            { text: "è¯´çš„å¤ªå¥½äº†ï¼Œæœªæ¥çš„èŒåœºï¼Œåªæœ‰\"é‡‘æ‰‹è‰º\"ï¼Œæ²¡æœ‰\"é“é¥­ç¢—\"ï¼ï¼ï¼", likes: "170" },
            { text: "æ•°æ®åˆ†æå¸ˆï¼Œå­¦è´¹åŸºæœ¬2ä¸‡ä»¥ä¸Šï¼Œåˆšå‡ºæ¥å·¥èµ„åŸºæœ¬ç¨å‰8000å·¦å³", likes: "2872" },
            { text: "æ–°èŒä¸š+æ–°å·¥ç§+è€å‘˜å·¥+è€æŠ€æœ¯=åŠæ–°è¯", likes: "2182" },
            { text: "å–æ¶ˆåŠ³åŠ¡æ´¾é£", likes: "5231" },
            { text: "å…»è€æœåŠ¡å¸ˆç»å¯¹åƒé¦™ï¼Œç°åœ¨çš„ä¸­å›½å·±ç»è¿›å…¥äººå£è€é¾„åŒ–äº†", likes: "273" },
            { text: "è¿™äº›è¡Œä¸šè¯¥æ€ä¹ˆå…¥è¡Œå‘¢", likes: "8769" },
            { text: "æ–°å…´èŒä¸šçš„å‡ºç°ä¹Ÿç»™äº†å¹´è½»äººæ›´å¤šçš„é€‰æ‹©æœºä¼š", likes: "1086" },
            { text: "ä¼ ç»Ÿè¡Œä¸šè¢«ç”·çš„å æ®å¤ªä¹…äº†ï¼Œæ–°å…´è¡Œä¸šå¥³æ€§å¯ä»¥ç›´æ¥å‚ä¸", likes: "4549" },
          ];
          danmakuItems.forEach((item, i) => {
            const wrapper = document.createElement("div");
            wrapper.className = "scroll-text";
            // æ”¹è¿›å¼¹å¹•å‚ç›´åˆ†å¸ƒï¼Œç¡®ä¿æ›´å‡åŒ€è¦†ç›–å±å¹•
            wrapper.style.top = `${5 + (i % 8) * 11}%`;
            // è°ƒæ•´åŠ¨ç”»æŒç»­æ—¶é—´å’Œå»¶è¿Ÿï¼Œè®©å¼¹å¹•æ›´è¿ç»­
            wrapper.style.animationDuration = `${12 + Math.random() * 8}s`;
            wrapper.style.animationDelay = `${i * 2 + Math.random() * 3}s`;
            const el = document.createElement("div");
            el.className = "danmaku";
            el.innerHTML = `
              <span>${item.text}</span>
              <span class="likes" style="margin-left: 8px; display: inline-flex; align-items: center; gap: 4px;">
                <span style="font-size: 12px;">ğŸ‘</span>
                <span>${item.likes}</span>
              </span>
            `;
            wrapper.appendChild(el);
            container.appendChild(wrapper);
          });
        }

        // =================================================================
        // å„ç« èŠ‚å›¾è¡¨å®ç°
        // =================================================================
        function setupStatusIntro(section) {
          // ä¸ºè¿™ä¸ªç‰¹å®šçš„introé¡µé¢è®¾ç½®å¼¹å¹•
          const container = section.querySelector("#danmaku-container");
          if (!container) return;
          const danmakuItems = [
            { text: "è¯´çš„å¤ªå¥½äº†ï¼Œæœªæ¥çš„èŒåœºï¼Œåªæœ‰\"é‡‘æ‰‹è‰º\"ï¼Œæ²¡æœ‰\"é“é¥­ç¢—\"ï¼ï¼ï¼", likes: "170" },
            { text: "æ•°æ®åˆ†æå¸ˆï¼Œå­¦è´¹åŸºæœ¬2ä¸‡ä»¥ä¸Šï¼Œåˆšå‡ºæ¥å·¥èµ„åŸºæœ¬ç¨å‰8000å·¦å³", likes: "2872" },
            { text: "æ–°èŒä¸š+æ–°å·¥ç§+è€å‘˜å·¥+è€æŠ€æœ¯=åŠæ–°è¯", likes: "2182" },
            { text: "å–æ¶ˆåŠ³åŠ¡æ´¾é£", likes: "5231" },
            { text: "å…»è€æœåŠ¡å¸ˆç»å¯¹åƒé¦™ï¼Œç°åœ¨çš„ä¸­å›½å·±ç»è¿›å…¥äººå£è€é¾„åŒ–äº†", likes: "273" },
            { text: "è¿™äº›è¡Œä¸šè¯¥æ€ä¹ˆå…¥è¡Œå‘¢", likes: "8769" },
            { text: "æ–°å…´èŒä¸šçš„å‡ºç°ä¹Ÿç»™äº†å¹´è½»äººæ›´å¤šçš„é€‰æ‹©æœºä¼š", likes: "1086" },
            { text: "ä¼ ç»Ÿè¡Œä¸šè¢«ç”·çš„å æ®å¤ªä¹…äº†ï¼Œæ–°å…´è¡Œä¸šå¥³æ€§å¯ä»¥ç›´æ¥å‚ä¸", likes: "4549" },
          ];
          danmakuItems.forEach((item, i) => {
            const wrapper = document.createElement("div");
            wrapper.className = "scroll-text";
            // æ”¹è¿›å¼¹å¹•å‚ç›´åˆ†å¸ƒï¼Œç¡®ä¿æ›´å‡åŒ€è¦†ç›–å±å¹•
            wrapper.style.top = `${5 + (i % 8) * 11}%`;
            // è°ƒæ•´åŠ¨ç”»æŒç»­æ—¶é—´å’Œå»¶è¿Ÿï¼Œè®©å¼¹å¹•æ›´è¿ç»­
            wrapper.style.animationDuration = `${12 + Math.random() * 8}s`;
            wrapper.style.animationDelay = `${i * 2 + Math.random() * 3}s`;
            const el = document.createElement("div");
            el.className = "danmaku";
            el.innerHTML = `
              <span>${item.text}</span>
              <span class="likes" style="margin-left: 8px; display: inline-flex; align-items: center; gap: 4px;">
                <span style="font-size: 12px;">ğŸ‘</span>
                <span>${item.likes}</span>
              </span>
            `;
            wrapper.appendChild(el);
            container.appendChild(wrapper);
          });
        }

        function setupStatusCharts(section) {
          // æ·»åŠ å»¶è¿Ÿç¡®ä¿DOMå®Œå…¨æ¸²æŸ“
          setTimeout(() => {
            const lifecycleElement = section.querySelector(".lifecycle-chart");
            if (!lifecycleElement) {
              console.error("Lifecycle chart element not found");
              return;
            }
            const lifecycleChart = echarts.init(lifecycleElement, "dark");
            lifecycleChart.setOption({
              tooltip: { ...echartsTooltipOption },
              series: [
                {
                  type: "graph",
                  layout: "none",
                  symbolSize: [100, 60],
                  roam: false,
                  label: { 
                    show: true, 
                    color: "#fff", 
                    fontSize: 11,
                    fontWeight: "bold",
                    formatter: function(params) {
                      return params.name;
                    }
                  },
                  tooltip: {
                    show: true,
                    backgroundColor: "rgba(0,0,0,0.8)",
                    borderColor: "#4B5563",
                    borderWidth: 1,
                    textStyle: {
                      color: "#fff",
                      fontSize: 12
                    },
                    formatter: function(params) {
                      const descriptions = {
                        "é¢„ç ”é˜¶æ®µ": "<b>é¢„ç ”é˜¶æ®µ</b><br/>ğŸ“‹ å‰æœŸç ”ç©¶å‡†å¤‡<br/>â€¢ æŠ€æœ¯å¯è¡Œæ€§åˆ†æ<br/>â€¢ å¸‚åœºéœ€æ±‚è°ƒç ”<br/>â€¢ é£é™©è¯„ä¼°æŠ¥å‘Š",
                        "æ­£å¼ç”³æŠ¥": "<b>æ­£å¼ç”³æŠ¥</b><br/>ğŸ“ æäº¤ç”³æŠ¥ææ–™<br/>â€¢ å®Œæ•´ç”³æŠ¥æ–‡ä»¶<br/>â€¢ æ ‡å‡†ç”³æŠ¥è¡¨æ ¼<br/>â€¢ ç›¸å…³è¯æ˜ææ–™",
                        "å½¢å¼å®¡æŸ¥": "<b>å½¢å¼å®¡æŸ¥</b><br/>ğŸ” ææ–™å®Œæ•´æ€§æ£€æŸ¥<br/>â€¢ æ£€æŸ¥ææ–™å®Œæ•´æ€§<br/>â€¢ éªŒè¯æ ¼å¼è§„èŒƒæ€§<br/>â€¢ ç¡®è®¤ç”³æŠ¥èµ„è´¨",
                        "é™æœŸè¡¥æ­£": "<b>é™æœŸè¡¥æ­£</b><br/>âš ï¸ ææ–™è¡¥å……å®Œå–„<br/>â€¢ è¡¥æ­£ææ–™ä¸è¶³<br/>â€¢ æŒ‰è¦æ±‚å®Œå–„æ–‡ä»¶<br/>â€¢ é‡æ–°æäº¤å®¡æŸ¥",
                        "ä¸“å®¶è¯„å®¡": "<b>ä¸“å®¶è¯„å®¡</b><br/>ğŸ‘¥ è¡Œä¸šä¸“å®¶è¯„è®®<br/>â€¢ ç»„ç»‡è¡Œä¸šä¸“å®¶è¯„è®®<br/>â€¢ æŠ€æœ¯æ–¹æ¡ˆè®ºè¯<br/>â€¢ å‡ºå…·è¯„å®¡æ„è§",
                        "æŠ€æœ¯è¯„å®¡": "<b>æŠ€æœ¯è¯„å®¡</b><br/>ğŸ”¬ æŠ€æœ¯æ·±åº¦è¯„ä¼°<br/>â€¢ æŠ€æœ¯æŒ‡æ ‡éªŒè¯<br/>â€¢ å®‰å…¨æ€§è¯„ä¼°<br/>â€¢ æ ‡å‡†ç¬¦åˆæ€§æ£€æŸ¥",
                        "ç»ˆæ­¢æµç¨‹": "<b>ç»ˆæ­¢æµç¨‹</b><br/>ğŸ›‘ å®¡æ‰¹æµç¨‹ç»“æŸ<br/>â€¢ æŠ€æœ¯é£é™©è¿‡é«˜<br/>â€¢ ä¸ç¬¦åˆå›½å®¶æ”¿ç­–<br/>â€¢ å­˜åœ¨å®‰å…¨éšæ‚£",
                        "å…¬ç¤ºå¾æ±‚æ„è§": "<b>å…¬ç¤ºå¾æ±‚æ„è§</b><br/>ğŸ“¢ ç¤¾ä¼šå…¬ä¼—ç›‘ç£<br/>â€¢ å…¬å¼€å¾æ±‚æ„è§<br/>â€¢ æ”¶é›†ç¤¾ä¼šåé¦ˆ<br/>â€¢ å¤„ç†æ„è§å»ºè®®",
                        "éƒ¨é™…è”å¸­ä¼šè®®": "<b>éƒ¨é™…è”å¸­ä¼šè®®</b><br/>ğŸ›ï¸ è·¨éƒ¨é—¨åè°ƒ<br/>â€¢ ç›¸å…³éƒ¨å§”è”åˆå®¡è®®<br/>â€¢ æ”¿ç­–åè°ƒç»Ÿä¸€<br/>â€¢ å½¢æˆå®¡è®®æ„è§",
                        "å›½åŠ¡é™¢å®¡æ‰¹": "<b>å›½åŠ¡é™¢å®¡æ‰¹</b><br/>ğŸ† æœ€é«˜çº§åˆ«å®¡æ‰¹<br/>â€¢ æœ€é«˜çº§åˆ«å®¡æ‰¹<br/>â€¢ æ”¿ç­–åˆè§„æ€§ç¡®è®¤<br/>â€¢ æ­£å¼æ‰¹å‡†æ–‡ä»¶",
                        "å‘å¸ƒå®æ–½": "<b>å‘å¸ƒå®æ–½</b><br/>âœ… æ­£å¼ç”Ÿæ•ˆæ‰§è¡Œ<br/>â€¢ æ­£å¼å¯¹å¤–å‘å¸ƒ<br/>â€¢ åˆ¶å®šå®æ–½ç»†åˆ™<br/>â€¢ å¼€å§‹æ‰§è¡Œç›‘ç®¡"
                      };
                      return descriptions[params.name] || params.name;
                    }
                  },
                  edgeSymbol: ["none", "arrow"],
                  edgeSymbolSize: [0, 8],
                  data: [
                    {
                      name: "é¢„ç ”é˜¶æ®µ",
                      x: 10,
                      y: 50,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#8B5CF6",
                        borderColor: "#6D28D9",
                        borderWidth: 2
                      },
                      symbolSize: [60, 35]
                    },
                    {
                      name: "æ­£å¼ç”³æŠ¥",
                      x: 30,
                      y: 50,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#8B5CF6",
                        borderColor: "#6D28D9",
                        borderWidth: 2
                      },
                      symbolSize: [60, 35]
                    },
                    {
                      name: "å½¢å¼å®¡æŸ¥",
                      x: 50,
                      y: 50,
                      symbol: "diamond",
                      itemStyle: { 
                        color: "#F59E0B",
                        borderColor: "#D97706",
                        borderWidth: 2
                      },
                      symbolSize: [60, 45]
                    },
                    {
                      name: "ä¸“å®¶è¯„å®¡",
                      x: 70,
                      y: 50,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#8B5CF6",
                        borderColor: "#6D28D9",
                        borderWidth: 2
                      },
                      symbolSize: [60, 35]
                    },
                    {
                      name: "é™æœŸè¡¥æ­£",
                      x: 50,
                      y: 20,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#EF4444",
                        borderColor: "#DC2626",
                        borderWidth: 2
                      },
                      symbolSize: [60, 35]
                    },
                    {
                      name: "æŠ€æœ¯è¯„å®¡",
                      x: 90,
                      y: 50,
                      symbol: "diamond",
                      itemStyle: { 
                        color: "#F59E0B",
                        borderColor: "#D97706",
                        borderWidth: 2
                      },
                      symbolSize: [60, 45]
                    },
                    {
                      name: "å…¬ç¤ºå¾æ±‚æ„è§",
                      x: 110,
                      y: 50,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#8B5CF6",
                        borderColor: "#6D28D9",
                        borderWidth: 2
                      },
                      symbolSize: [70, 35]
                    },
                    {
                      name: "ç»ˆæ­¢æµç¨‹",
                      x: 90,
                      y: 80,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#EF4444",
                        borderColor: "#DC2626",
                        borderWidth: 2
                      },
                      symbolSize: [60, 35]
                    },
                    {
                      name: "éƒ¨é™…è”å¸­ä¼šè®®",
                      x: 130,
                      y: 50,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#8B5CF6",
                        borderColor: "#6D28D9",
                        borderWidth: 2
                      },
                      symbolSize: [75, 35]
                    },
                    {
                      name: "å›½åŠ¡é™¢å®¡æ‰¹",
                      x: 150,
                      y: 50,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#10B981",
                        borderColor: "#059669",
                        borderWidth: 2
                      },
                      symbolSize: [60, 35]
                    },
                    {
                      name: "å‘å¸ƒå®æ–½",
                      x: 170,
                      y: 50,
                      symbol: "rect",
                      itemStyle: { 
                        color: "#10B981",
                        borderColor: "#059669",
                        borderWidth: 2
                      },
                      symbolSize: [60, 35]
                    }
                  ],
                  links: [
                    { 
                      source: "é¢„ç ”é˜¶æ®µ", 
                      target: "æ­£å¼ç”³æŠ¥",
                      lineStyle: { color: "#10B981", width: 2 }
                    },
                    { 
                      source: "æ­£å¼ç”³æŠ¥", 
                      target: "å½¢å¼å®¡æŸ¥",
                      lineStyle: { color: "#10B981", width: 2 }
                    },
                    { 
                      source: "å½¢å¼å®¡æŸ¥", 
                      target: "ä¸“å®¶è¯„å®¡",
                      label: { 
                        show: true, 
                        formatter: "é€šè¿‡",
                        color: "#059669",
                        fontSize: 9,
                        fontWeight: "bold"
                      },
                      lineStyle: { color: "#10B981", width: 2 }
                    },
                    { 
                      source: "å½¢å¼å®¡æŸ¥", 
                      target: "é™æœŸè¡¥æ­£",
                      label: { 
                        show: true, 
                        formatter: "ä¸é€šè¿‡",
                        color: "#DC2626",
                        fontSize: 9,
                        fontWeight: "bold"
                      },
                      lineStyle: { color: "#EF4444", width: 2, type: "dashed" }
                    },
                    { 
                      source: "é™æœŸè¡¥æ­£", 
                      target: "å½¢å¼å®¡æŸ¥",
                      lineStyle: { color: "#F59E0B", width: 1, curveness: 0.3 }
                    },
                    { 
                      source: "ä¸“å®¶è¯„å®¡", 
                      target: "æŠ€æœ¯è¯„å®¡",
                      lineStyle: { color: "#10B981", width: 2 }
                    },
                    { 
                      source: "æŠ€æœ¯è¯„å®¡", 
                      target: "å…¬ç¤ºå¾æ±‚æ„è§",
                      label: { 
                        show: true, 
                        formatter: "é€šè¿‡",
                        color: "#059669",
                        fontSize: 9,
                        fontWeight: "bold"
                      },
                      lineStyle: { color: "#10B981", width: 2 }
                    },
                    { 
                      source: "æŠ€æœ¯è¯„å®¡", 
                      target: "ç»ˆæ­¢æµç¨‹",
                      label: { 
                        show: true, 
                        formatter: "ä¸é€šè¿‡",
                        color: "#DC2626",
                        fontSize: 9,
                        fontWeight: "bold"
                      },
                      lineStyle: { color: "#EF4444", width: 2, type: "dashed" }
                    },
                    { 
                      source: "å…¬ç¤ºå¾æ±‚æ„è§", 
                      target: "éƒ¨é™…è”å¸­ä¼šè®®",
                      lineStyle: { color: "#10B981", width: 2 }
                    },
                    { 
                      source: "éƒ¨é™…è”å¸­ä¼šè®®", 
                      target: "å›½åŠ¡é™¢å®¡æ‰¹",
                      lineStyle: { color: "#10B981", width: 2 }
                    },
                    { 
                      source: "å›½åŠ¡é™¢å®¡æ‰¹", 
                      target: "å‘å¸ƒå®æ–½",
                      lineStyle: { color: "#10B981", width: 2 }
                    }
                  ],
                  lineStyle: { 
                    opacity: 0.8, 
                    width: 2, 
                    curveness: 0.1,
                    color: "#4B5563"
                  },
                },
              ],
            });

            const wordCloudElement = section.querySelector(
              ".professions-word-cloud"
            );
            if (!wordCloudElement) {
              console.error("Word cloud element not found");
              return;
            }
            const wordCloudChart = echarts.init(wordCloudElement, "dark");
            wordCloudChart.setOption({
              tooltip: {
                ...echartsTooltipOption,
                formatter: (p) => `${p.name}: ${p.value}ä¸ªå²—ä½`,
              },
              series: [
                {
                  type: "wordCloud",
                  shape: "circle",
                  sizeRange: [15, 60],
                  rotationRange: [-30, 30],
                  textStyle: {
                    fontFamily: "sans-serif",
                    color: (params) =>
                      params.data.certified ? "#EF4444" : "#6B7280",
                  },
                  emphasis: {
                    textStyle: { fontWeight: "bold", color: "#fff" },
                  },
                  data: [
                    { name: "æ°‘å®¿ç®¡å®¶", value: 1500, certified: true },
                    { name: "æ— äººæœºé©¾é©¶å‘˜", value: 1200, certified: true },
                    { name: "è€å¹´æ•°å­—æœåŠ¡å¸ˆ", value: 900, certified: true },
                    { name: "AIè®­ç»ƒå¸ˆ", value: 1800, certified: true },
                    { name: "å…ƒå®‡å®™åœºæ™¯ç­–åˆ’å¸ˆ", value: 2500, certified: false },
                    { name: "å® ç‰©æ®¡è‘¬å¸ˆ", value: 800, certified: false },
                    { name: "æ•°æ®æ ‡æ³¨å‘˜", value: 2200, certified: false },
                    { name: "æ¸¸æˆé™ªç»ƒå¸ˆ", value: 1600, certified: false },
                  ],
                },
              ],
            });

            const domainBarElement = section.querySelector(".domain-barchart");
            if (!domainBarElement) {
              console.error("Domain bar chart element not found");
              return;
            }
            const domainBarChart = echarts.init(domainBarElement, "dark");
            domainBarChart.setOption({
              tooltip: { ...echartsTooltipOption },
              grid: {
                left: "3%",
                right: "4%",
                bottom: "3%",
                containLabel: true,
              },
              xAxis: { type: "value" },
              yAxis: {
                type: "category",
                data: [
                  "ä¿¡æ¯æŠ€æœ¯",
                  "ç”Ÿæ´»æœåŠ¡",
                  "æ–‡åŒ–å¨±ä¹",
                  "åŒ»ç–—å¥åº·",
                  "æ•™è‚²åŸ¹è®­",
                ],
              },
              series: [
                {
                  name: "å²—ä½æ•°é‡",
                  type: "bar",
                  data: [18000, 15000, 12000, 9000, 7500],
                  itemStyle: {
                    color: new echarts.graphic.LinearGradient(1, 0, 0, 0, [
                      { offset: 0, color: "#3B82F6" },
                      { offset: 1, color: "#22D3EE" },
                    ]),
                  },
                  label: { show: true, position: "right", color: "#fff" },
                },
              ],
            });
          }, 100);
        }

        function setupSankeyChart(section) {
          setTimeout(() => {
            const sankeyElement = section.querySelector(".sankey-chart");
            if (!sankeyElement) {
              console.error("Sankey chart element not found");
              return;
            }
            const sankeyChart = echarts.init(sankeyElement, "dark");
            sankeyChart.setOption({
              tooltip: {
                trigger: "item",
                triggerOn: "mousemove",
                ...echartsTooltipOption,
              },
              series: {
                type: "sankey",
                emphasis: { focus: "adjacency" },
                nodeAlign: "left",
                data: [
                  { name: "æŠ€æœ¯çªç ´", itemStyle: { color: "#3B82F6" } },
                  { name: "å¸‚åœºéœ€æ±‚", itemStyle: { color: "#F97316" } },
                  { name: "æ”¿ç­–å¼•å¯¼", itemStyle: { color: "#10B981" } },
                  { name: "AIè®­ç»ƒå¸ˆ" },
                  { name: "æ— äººæœºé©¾é©¶å‘˜" },
                  { name: "æ°‘å®¿ç®¡å®¶" },
                  { name: "è€å¹´æ•°å­—æœåŠ¡å¸ˆ" },
                  { name: "å‰§æœ¬æ€DM" },
                ],
                links: [
                  { source: "æŠ€æœ¯çªç ´", target: "AIè®­ç»ƒå¸ˆ", value: 10 },
                  { source: "æŠ€æœ¯çªç ´", target: "æ— äººæœºé©¾é©¶å‘˜", value: 8 },
                  { source: "å¸‚åœºéœ€æ±‚", target: "æ°‘å®¿ç®¡å®¶", value: 9 },
                  { source: "å¸‚åœºéœ€æ±‚", target: "å‰§æœ¬æ€DM", value: 7 },
                  { source: "æ”¿ç­–å¼•å¯¼", target: "è€å¹´æ•°å­—æœåŠ¡å¸ˆ", value: 6 },
                  { source: "å¸‚åœºéœ€æ±‚", target: "è€å¹´æ•°å­—æœåŠ¡å¸ˆ", value: 4 },
                  { source: "æŠ€æœ¯çªç ´", target: "æ°‘å®¿ç®¡å®¶", value: 2 },
                ],
                lineStyle: { color: "source", curveness: 0.5 },
              },
            });
          }, 200);
        }

        function setupRectificationCharts(section) {
          setTimeout(() => {
            const rectificationElement = section.querySelector(
              ".rectification-word-clouds"
            );
            if (!rectificationElement) {
              console.error("Rectification chart element not found");
              return;
            }
            const rectificationChart = echarts.init(
              rectificationElement,
              "dark"
            );
            rectificationChart.setOption({
              grid: [
                { left: "5%", top: "5%", bottom: "5%", width: "40%" },
                { right: "5%", top: "5%", bottom: "5%", width: "40%" },
              ],
              xAxis: [
                { gridIndex: 0, show: false },
                { gridIndex: 1, show: false },
              ],
              yAxis: [
                { gridIndex: 0, show: false },
                { gridIndex: 1, show: false },
              ],
              graphic: [
                {
                  type: "text",
                  left: "25%",
                  top: "10%",
                  style: {
                    text: "2022å¹´ (æ°‘é—´)",
                    fill: "#9CA3AF",
                    font: "bold 16px sans-serif",
                  },
                },
                {
                  type: "text",
                  right: "20%",
                  top: "10%",
                  style: {
                    text: "2024å¹´ (å®˜æ–¹)",
                    fill: "#9CA3AF",
                    font: "bold 16px sans-serif",
                  },
                },
                {
                  type: "text",
                  right: "18%",
                  bottom: "10%",
                  style: {
                    text: "è§„èŒƒåŒ–ç‡æå‡ â†—",
                    fill: "#10B981",
                    font: "bold 18px sans-serif",
                  },
                },
              ],
              series: [
                {
                  type: "wordCloud",
                  xAxisIndex: 0,
                  yAxisIndex: 0,
                  sizeRange: [12, 35],
                  rotationRange: [-45, 45],
                  textStyle: { fontFamily: "KaiTi", color: "#6B7280" },
                  data: [
                    { name: "é“¶å‘ç”Ÿæ´»è§„åˆ’å¸ˆ", value: 10 },
                    { name: "è€å¹´é™ªä¼´å¸ˆ", value: 8 },
                    { name: "è€å¹´æ•°å­—è¾…å¯¼å‘˜", value: 12 },
                    { name: "åŠ©è€å‘˜", value: 6 },
                  ],
                },
                {
                  type: "wordCloud",
                  xAxisIndex: 1,
                  yAxisIndex: 1,
                  sizeRange: [20, 50],
                  rotationRange: [0, 0],
                  textStyle: {
                    fontFamily: "Microsoft YaHei",
                    color: "#EF4444",
                  },
                  data: [{ name: "è€å¹´æ•°å­—æœåŠ¡å¸ˆ", value: 20 }],
                },
              ],
            });
          }, 300);
        }

        function setupRightsChart(section) {
          setTimeout(() => {
            const rightsElement = section.querySelector(".rights-barchart");
            if (!rightsElement) {
              console.error("Rights chart element not found");
              return;
            }
            const rightsChart = echarts.init(rightsElement, "dark");
            rightsChart.setOption({
              tooltip: {
                trigger: "axis",
                axisPointer: { type: "shadow" },
                ...echartsTooltipOption,
              },
              legend: {
                data: ["è®¤è¯èŒä¸š", "æœªè®¤è¯èŒä¸š"],
                textStyle: { color: "#fff" },
              },
              grid: {
                left: "3%",
                right: "4%",
                bottom: "3%",
                containLabel: true,
              },
              xAxis: {
                type: "category",
                data: ["å·¥ä¼¤ä¿é™©è¦†ç›–ç‡", "èŒä¸šåŸ¹è®­è¦†ç›–ç‡", "èŒç§°è¯„å®šè¦†ç›–ç‡"],
              },
              yAxis: { type: "value", axisLabel: { formatter: "{value} %" } },
              series: [
                {
                  name: "è®¤è¯èŒä¸š",
                  type: "bar",
                  itemStyle: { color: "#3B82F6" },
                  data: [85, 78, 65],
                },
                {
                  name: "æœªè®¤è¯èŒä¸š",
                  type: "bar",
                  itemStyle: { color: "#6B7280" },
                  data: [32, 25, 5],
                },
              ],
            });
          }, 400);
        }

        function setupReconstructionChart(section) {
          setTimeout(() => {
            const pieElement = section.querySelector(".factors-piechart");
            if (!pieElement) {
              console.error("Pie chart element not found");
              return;
            }
            const pieChart = echarts.init(pieElement, "dark");
            const stages = {
              2020: [
                { value: 65, name: "è–ªèµ„å¾…é‡" },
                { value: 25, name: "æƒ…æ„Ÿè®¤åŒ" },
                { value: 10, name: "å·¥ä½œè‡ªç”±" },
              ],
              2025: [
                { value: 40, name: "è–ªèµ„å¾…é‡" },
                { value: 30, name: "æƒ…æ„Ÿè®¤åŒ" },
                { value: 30, name: "å·¥ä½œè‡ªç”±" },
              ],
            };
            pieChart.setOption({
              title: {
                text: "èŒä¸šé€‰æ‹©æ ¸å¿ƒå› ç´ æ¼”å˜",
                left: "center",
                textStyle: { color: "#fff" },
              },
              tooltip: {
                trigger: "item",
                formatter: "{a} <br/>{b}: {c}%",
                ...echartsTooltipOption,
              },
              legend: {
                orient: "vertical",
                left: 10,
                data: ["è–ªèµ„å¾…é‡", "æƒ…æ„Ÿè®¤åŒ", "å·¥ä½œè‡ªç”±"],
                textStyle: { color: "#fff" },
              },
              series: [
                {
                  name: "2025å¹´",
                  type: "pie",
                  radius: ["40%", "70%"],
                  avoidLabelOverlap: false,
                  label: { show: false, position: "center" },
                  emphasis: {
                    label: { show: true, fontSize: 20, fontWeight: "bold" },
                  },
                  labelLine: { show: false },
                  data: stages["2025"],
                },
              ],
            });
            pieElement.addEventListener("click", () => {
              const currentYear = pieChart
                .getOption()
                .series[0].name.includes("2025")
                ? "2020"
                : "2025";
              pieChart.setOption({
                series: [
                  { name: `${currentYear}å¹´`, data: stages[currentYear] },
                ],
              });
            });
          }, 500);
        }

        function setupConclusionChart(section) {
          setTimeout(() => {
            const mapElement = section.querySelector(".future-map");
            if (!mapElement) {
              console.error("Map chart element not found");
              return;
            }
            const mapChart = echarts.init(mapElement, "dark");
            const professions = [
              { name: "AIè®­ç»ƒå¸ˆ", value: 1, category: 0 },
              { name: "æ— äººæœºé©¾é©¶å‘˜", value: 1, category: 0 },
              { name: "å…ƒå®‡å®™ç­–åˆ’å¸ˆ", value: 1, category: 1 },
              { name: "æ¸¸æˆé™ªç»ƒå¸ˆ", value: 1, category: 1 },
              { name: "æ±‰æœé€ å‹å¸ˆ", value: 1, category: 1 },
              { name: "æ•´ç†æ”¶çº³å¸ˆ", value: 1, category: 1 },
            ];
            mapChart.setOption({
              title: {
                text: "ä¸­å›½æ–°èŒä¸šå›¾è°±",
                left: "center",
                textStyle: { color: "#fff" },
              },
              tooltip: {},
              legend: [
                {
                  data: ["å·²è®¤è¯", "æœªè®¤è¯"],
                  top: "bottom",
                  textStyle: { color: "#fff" },
                },
              ],
              animationDurationUpdate: 1500,
              animationEasingUpdate: "quinticInOut",
              series: [
                {
                  type: "graph",
                  layout: "force",
                  force: { repulsion: 80 },
                  data: professions,
                  categories: [
                    { name: "å·²è®¤è¯", itemStyle: { color: "#EF4444" } },
                    { name: "æœªè®¤è¯", itemStyle: { color: "#6B7280" } },
                  ],
                  roam: true,
                  label: { show: true, formatter: "{b}" },
                  lineStyle: { color: "source", curveness: 0.3 },
                },
              ],
            });
          }, 600);
        }

        // --- å¯åŠ¨é¡µé¢ ---
        initPage();

        // æ·»åŠ çª—å£å°ºå¯¸å˜åŒ–æ—¶çš„å“åº”å¼å¤„ç†
        window.addEventListener("resize", () => {
          // æ”¶é›†æ‰€æœ‰å·²åˆå§‹åŒ–çš„å›¾è¡¨å®ä¾‹å¹¶é‡æ–°æ¸²æŸ“
          const charts = document.querySelectorAll("[_echarts_instance_]");
          charts.forEach((element) => {
            const chart = echarts.getInstanceByDom(element);
            if (chart) {
              chart.resize();
            }
          });
        });
      });
    </script>
  </body>
</html>
